<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¥Ø¯Ø§Ø±Ø© Ø³ÙˆÙ‡Ø§Ø¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#080B14">
    <link rel="apple-touch-icon" href="icon-192.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Aref+Ruqaa:wght@400;700&family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        /* ğŸŒŸ Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (Dark Gold) Ø§Ù„Ù…Ø¹Ø²Ø² ğŸŒŸ */
        body { 
            background-color: #080B14; 
            font-family: 'Cairo', sans-serif; 
            min-height: 100vh; 
            display: flex; flex-direction: column; align-items: center; justify-content: center; 
            overflow: hidden; color: #E8EDEB; position: relative;
            transition: background-color 0.5s, color 0.5s;
        }
        
        body::before { 
            content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            background-image: radial-gradient(circle at 50% 50%, rgba(214, 140, 41, 0.15) 0%, rgba(8, 11, 20, 1) 80%); 
            z-index: 0; 
        }

        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ø¬ÙˆÙ… ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© (Ø§Ù„Ø«Ø§Ø¨ØªØ©) */
        body::after {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background-image: 
                radial-gradient(circle, rgba(214, 140, 41, 0.4) 1px, transparent 1px),
                radial-gradient(circle, rgba(245, 198, 120, 0.25) 1.5px, transparent 1.5px);
            background-size: 80px 80px, 120px 120px;
            animation: splashStars 15s linear infinite; opacity: 0.6; pointer-events: none; z-index: 0;
        }
        @keyframes splashStars { 0% { transform: translateY(0) translateX(0); } 100% { transform: translateY(-50px) translateX(-20px); } }

        /* ğŸŒŸ Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© Ø§Ù„Ø­ÙŠØ© ğŸŒŸ */
        .stars-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; overflow: hidden; }
        .star-dynamic { position: absolute; background: #F5C678; border-radius: 50%; box-shadow: 0 0 10px #D68C29, 0 0 20px #F5C678; animation: twinkle var(--twinkle-dur) ease-in-out infinite alternate var(--twinkle-del), float var(--float-dur) linear infinite var(--float-del); }
        @keyframes twinkle { 0% { opacity: 0.1; transform: scale(0.5); } 100% { opacity: 1; transform: scale(1.5); box-shadow: 0 0 15px #F5C678, 0 0 30px #ffffff; } }
        @keyframes float { 0% { transform: translate(0, 0); } 33% { transform: translate(15px, -15px); } 66% { transform: translate(-10px, 10px); } 100% { transform: translate(0, 0); } }

        /* Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠ Ø§Ù„ÙƒØ¨ÙŠØ± */
        .glass-box { 
            background: rgba(15, 20, 35, 0.6); backdrop-filter: blur(16px); 
            border: 1px solid rgba(245, 198, 120, 0.3); border-radius: 25px; 
            box-shadow: 0 30px 60px -10px rgba(0,0,0,0.8), inset 0 2px 10px rgba(245, 198, 120, 0.1); 
            z-index: 10; position: relative;
            animation: fadeIn 0.8s ease-out;
        }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .gold-text-gradient { 
            background: linear-gradient(to right, #D68C29, #F5C678, #F3D39B, #D68C29); 
            -webkit-background-clip: text; color: transparent; font-weight: 900; 
            text-shadow: 0 0 15px rgba(214, 140, 41, 0.2);
        }

        /* ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠ Ø§Ù„ØµØºÙŠØ± */
        .name-box {
            position: relative; background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(8px);
            border: 1px solid rgba(214, 140, 41, 0.4); border-radius: 12px; 
            padding: 12px 30px; 
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3), inset 0 0 15px rgba(214, 140, 41, 0.1);
            display: inline-block; z-index: 5;
        }

        /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø§Ø³Ù… Ø¨Ø®Ø· Ø§Ù„Ø±Ù‚Ø¹Ø© */
        .ruqaa-text { font-family: 'Aref Ruqaa', serif; font-size: 1.5rem; font-weight: 700; line-height: 1.3; }

        /* ğŸŒŸ Ø²Ø± Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø£Ù†ÙŠÙ‚ (Swipe Button) ğŸŒŸ */
        .swipe-track { position: relative; width: 100%; height: 65px; background: rgba(0, 0, 0, 0.5); border-radius: 50px; border: 1px solid rgba(245, 198, 120, 0.2); box-shadow: inset 0 5px 15px rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; overflow: hidden; touch-action: none; margin-top: 25px; }
        .swipe-text { font-size: 1.1rem; font-weight: 900; color: #8892B0; letter-spacing: 1px; pointer-events: none; transition: opacity 0.3s; z-index: 2; }
        .swipe-progress { position: absolute; top: 0; right: 0; height: 100%; background: linear-gradient(to left, rgba(214, 140, 41, 0.8), transparent); pointer-events: none; z-index: 1; border-radius: 50px;}
        .swipe-thumb { position: absolute; top: 4px; right: 4px; width: 55px; height: 55px; background: linear-gradient(135deg, #F5C678 0%, #B4731D 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: grab; box-shadow: 0 4px 15px rgba(214, 140, 41, 0.6); z-index: 10; border: 2px solid #fff; }
        .swipe-thumb.grabbing { cursor: grabbing; transform: scale(1.05); }
        .swipe-thumb svg { width: 24px; height: 24px; color: #141A32; pointer-events: none; }
        
        @keyframes pulse-thumb { 0% { box-shadow: 0 0 0 0 rgba(245, 198, 120, 0.6); } 70% { box-shadow: 0 0 0 15px rgba(245, 198, 120, 0); } 100% { box-shadow: 0 0 0 0 rgba(245, 198, 120, 0); } }
        .thumb-pulse { animation: pulse-thumb 2s infinite; }

        /* ğŸŒŸ Ø²Ø± Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø© ğŸŒŸ */
        .theme-toggle-btn { position: fixed; top: 30px; right: 30px; z-index: 500; background: rgba(20, 26, 50, 0.8); backdrop-filter: blur(10px); width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 5px 15px rgba(0,0,0,0.4); border: 2px solid #D68C29; color: #F5C678; font-size: 1.5rem; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer;}
        .theme-toggle-btn:hover { transform: scale(1.1) rotate(15deg); background: #D68C29; color: #141A32; }

        /* ---------- Ø²Ø± Ø§Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„Ø¯Ø§Ø¦Ù… (Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹) ---------- */
        .install-btn-fixed { position: fixed; top: 30px; left: 30px; background: linear-gradient(135deg, #2563eb 0%, #0891b2 100%); color: white; font-weight: 900; padding: 10px 20px; border-radius: 15px; display: none; align-items: center; gap: 8px; box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4); border: 1px solid rgba(255, 255, 255, 0.2); z-index: 99999; cursor: pointer; transition: all 0.3s ease; }
        .install-btn-fixed:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 8px 25px rgba(37, 99, 235, 0.6); }

        /* ğŸŒŸ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ (Light Mode) ğŸŒŸ */
        body.light-theme { background-color: #f1f5f9; color: #0f172a; }
        body.light-theme::before { background-image: radial-gradient(circle at 50% 50%, rgba(214, 140, 41, 0.1) 0%, rgba(241, 245, 249, 1) 80%); }
        body.light-theme::after { opacity: 0.2; }
        body.light-theme .glass-box { background: rgba(255, 255, 255, 0.85); border-color: #cbd5e1; box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1); }
        body.light-theme .theme-toggle-btn { background: #ffffff; border-color: #cbd5e1; color: #b45309; }
        body.light-theme .theme-toggle-btn:hover { background: #f8fafc; transform: scale(1.1) rotate(15deg); }
        body.light-theme .star-dynamic { background: #b45309; box-shadow: 0 0 10px #D68C29; opacity: 0.5; }
        body.light-theme .text-slate-400 { color: #475569 !important; }
        body.light-theme .text-white { color: #0f172a !important; }
        body.light-theme .name-box { background: rgba(255, 255, 255, 0.5); border-color: #cbd5e1; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        body.light-theme .swipe-track { background: #e2e8f0; border-color: #cbd5e1; box-shadow: inset 0 2px 5px rgba(0,0,0,0.05); }
        body.light-theme .swipe-text { color: #475569; }

        [x-cloak] { display: none !important; }
    </style>
</head>
<body x-data="landingApp()" x-init="initApp()">

    <div class="stars-container">
        <template x-for="star in stars" :key="star.id">
            <div class="star-dynamic" :style="`left: ${star.left}; top: ${star.top}; width: ${star.size}; height: ${star.size}; --twinkle-dur: ${star.twinkleDur}; --twinkle-del: ${star.twinkleDel}; --float-dur: ${star.floatDur}; --float-del: ${star.floatDel};`"></div>
        </template>
    </div>

    <button @click="toggleTheme()" class="theme-toggle-btn" title="ØªØºÙŠÙŠØ± Ø§Ù„Ø¥Ø¶Ø§Ø¡Ø© (Ù†Ù‡Ø§Ø±/Ù„ÙŠÙ„)">
        <span x-show="!isLightMode">â˜€ï¸</span>
        <span x-show="isLightMode" x-cloak>ğŸŒ™</span>
    </button>

    <button id="forceInstallBtn" class="install-btn-fixed">
        <span class="text-xl">ğŸ“±</span>
        <span>ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</span>
    </button>

    <div class="glass-box p-8 md:p-10 text-center w-[90%] max-w-md border-t-8 border-[#D68C29]">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Coat_of_arms_of_Egypt_%28Official%29.svg/1200px-Coat_of_arms_of_Egypt_%28Official%29.svg.png" class="w-24 mx-auto mb-4 drop-shadow-2xl relative z-20">
        
        <div class="relative z-20 space-y-1">
            <h3 class="text-slate-400 text-xs font-bold tracking-[0.2em] uppercase">Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ù…ØµØ± Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</h3>
            <h2 class="text-white text-[13px] font-bold mb-2">Ù…Ø¯ÙŠØ±ÙŠØ© Ø§Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ… Ø¨Ø³ÙˆÙ‡Ø§Ø¬</h2>
            <h1 class="text-xl gold-text-gradient mb-6 border-b border-[#D68C29]/30 pb-3 inline-block">Ø¥Ø¯Ø§Ø±Ø© Ø³ÙˆÙ‡Ø§Ø¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</h1>
        </div>
        
        <div class="space-y-4 mb-6 relative z-20">
            <p class="text-slate-400 text-[11px] font-bold uppercase tracking-widest">Ø±Ø¦ÙŠØ³ Ù‚Ø³Ù… ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ ÙˆØ§Ù„Ø«Ø§Ù†ÙˆÙŠ</p>
            <div class="name-box">
                <h2 class="ruqaa-text gold-text-gradient py-1 drop-shadow-md">Ø£/ Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ø¹Ù…Ø¯Ø©</h2>
            </div>
        </div>

        <div class="swipe-track relative z-20" x-ref="swipeTrack">
            <span class="swipe-text" :class="(sliderX > 50 || loading) ? 'opacity-0' : 'opacity-100'">Ø§Ø³Ø­Ø¨ Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… âŸµ</span>
            <div class="swipe-progress" :style="`width: ${sliderX + 60}px; transition: ${isDragging ? 'none' : 'width 0.4s ease'};`"></div>
            <div class="swipe-thumb"
                 :class="(isDragging ? 'grabbing ' : '') + (!loading && !isDragging && sliderX === 0 ? 'thumb-pulse' : '')"
                 :style="`transform: translateX(-${sliderX}px); transition: ${isDragging ? 'none' : 'transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)'};`"
                 @mousedown="startDrag" @touchstart.passive="startDrag"
                 @mousemove.window="onDrag" @touchmove.window="onDrag"
                 @mouseup.window="endDrag" @touchend.window="endDrag">
                
                <svg x-show="!loading" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"></path></svg>
                <span x-show="loading" class="loading loading-spinner text-[#141A32]" x-cloak></span>
            </div>
        </div>
        
        <p x-show="loading" x-transition.opacity class="text-[#F5C678] font-bold text-sm mt-3 animate-pulse" :class="isLightMode ? '!text-[#b45309]' : ''" x-cloak>â³ Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…...</p>
    </div>

    <footer class="mt-6 text-slate-500 text-[10px] font-bold relative z-10">
        Â© 2026 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© - Ø¥Ø¯Ø§Ø±Ø© Ø³ÙˆÙ‡Ø§Ø¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©
    </footer>

    <script>
        function landingApp() {
            return {
                isLightMode: localStorage.getItem('theme') === 'light',
                loading: false,
                sliderX: 0, isDragging: false, startX: 0, maxTrack: 0,
                stars: [],

                initApp() {
                    if (this.isLightMode) document.body.classList.add('light-theme');
                    this.generateStars();
                },

                toggleTheme() {
                    this.isLightMode = !this.isLightMode;
                    localStorage.setItem('theme', this.isLightMode ? 'light' : 'dark');
                    if (this.isLightMode) document.body.classList.add('light-theme');
                    else document.body.classList.remove('light-theme');
                },

                generateStars() {
                    const starsCount = window.innerWidth > 768 ? 40 : 20; 
                    for(let i = 0; i < starsCount; i++) {
                        this.stars.push({
                            id: i,
                            left: Math.random() * 100 + '%',
                            top: Math.random() * 100 + '%',
                            size: (Math.random() * 3 + 1) + 'px',
                            twinkleDel: Math.random() * 5 + 's',
                            twinkleDur: (Math.random() * 3 + 1.5) + 's',
                            floatDel: Math.random() * 5 + 's',
                            floatDur: (Math.random() * 10 + 10) + 's',
                        });
                    }
                },

                // ğŸŒŸ Ø¯ÙˆØ§Ù„ Ø²Ø± Ø§Ù„Ø³Ø­Ø¨ (Swipe Logic) ğŸŒŸ
                startDrag(e) {
                    if (this.loading) return; 
                    this.isDragging = true;
                    this.startX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
                    const trackWidth = this.$refs.swipeTrack.offsetWidth;
                    this.maxTrack = trackWidth - 65; 
                },
                onDrag(e) {
                    if (!this.isDragging || this.loading) return;
                    let currentX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
                    let diff = this.startX - currentX; 
                    if (diff < 0) diff = 0;
                    if (diff > this.maxTrack) diff = this.maxTrack;
                    this.sliderX = diff;
                },
                endDrag() {
                    if (!this.isDragging || this.loading) return;
                    this.isDragging = false;
                    
                    if (this.sliderX >= this.maxTrack * 0.85) {
                        this.sliderX = this.maxTrack; 
                        this.loading = true; 
                        if (navigator.vibrate) { navigator.vibrate(50); } // Ù‡Ø²Ø© Ø®ÙÙŠÙØ© Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„
                        
                        setTimeout(() => {
                            window.location.href = 'login.html';
                        }, 800);
                        
                    } else {
                        this.sliderX = 0; 
                    }
                }
            }
        }

        // PWA Script
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js').then(reg => {
                    console.log('Service Worker Registered');
                }).catch(err => console.log('Service Worker Error', err));
            });
        }
        let deferredPrompt;
        const forceInstallBtn = document.getElementById('forceInstallBtn');
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            forceInstallBtn.style.display = 'flex';
        });
        forceInstallBtn.addEventListener('click', async () => {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === 'accepted') { forceInstallBtn.style.display = 'none'; }
                deferredPrompt = null;
            }
        });
        window.addEventListener('appinstalled', () => {
            forceInstallBtn.style.display = 'none';
        });
    </script>
</body>
</html>
